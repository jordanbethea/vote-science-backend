@import models.dto.SlateDTO
@import models.dto.BallotDTO
@(slateOption: Option[SlateDTO], ballots: Seq[BallotDTO])

@title = @{if(slateOption.isDefined){s"Info for slate ${slateOption.get.title}"} else {"Not a valid slate!"}}

@main(title)(play.twirl.api.HtmlFormat.empty) {

    @if(slateOption.isDefined) {
        @defining(slateOption.get) { slate =>
            @* @slate = slateOption.get *@
            <p>Title: @slate.title</p>
            <p>Creator: @slate.creator</p>
            <p>Questions</p>
            @for(question <- slate.questions) {
                <h6>Text: @question.text</h6>
                @for(candidate <- question.candidates) {
                    <p>@candidate.name - @candidate.description</p>
                }
            }
            Ballots Cast: @ballots.length
            @for(ballot <- ballots) {
                <p>Cast by @ballot.details.voter</p>
                @if(ballot.fptpModel.nonEmpty) {
                    <p>FPTP Info</p>
                    @for(choice <- ballot.fptpModel.get.choices) {
                        <p>Question: @choice.questionID , Choice: @choice.candidateID</p>
                    }
                }
            }
        }
    } else {
        <p>No slate was found, are you sure you have the right id?</p>
    }
}